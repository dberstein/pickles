$(document).ready(function(){$("form.ajax input[type=submit],form.ajax button.submit").click(function(){var a=$(this).parents("form").get();if(typeof a.valid=="undefined"||a.valid()==true){$("button, input",a).attr("readonly","readonly");if(typeof CKEDITOR!="undefined")if(typeof CKEDITOR.instances!="undefined")for(var c in CKEDITOR.instances){var d=CKEDITOR.instances[c].getData();d!=""&&$("#"+c).val(d)}$.ajax({type:$(a).attr("method"),url:$(a).attr("action"),data:$(a).serialize(),dataType:"json",
success:function(b){if(b.status!="success"&&typeof b.message!="undefined"){alert("Error: "+b.message);$("button",a).show()}else if(b.status=="success"){$("input[type=text]",a).val("");$("select",a).val("");$("textarea",a).val("");typeof b.message!="undefined"&&alert(b.message);if(typeof b.url!="undefined")parent.location.href=b.url;typeof b.callback!="undefined"&&window[b.callback](b)}else alert("Error: "+b);$("button, input",a).attr("readonly","")},error:function(){}})}});$("form.ajax").submit(function(){return false});
$("table tr:even td").addClass("even");$("table tr:odd td").addClass("odd")});function autoTab(a){$(a).val().length>=$(a).attr("maxlength")&&$(a).next().focus()}function disableEnterKey(a){return(window.event?window.event.keyCode:a.which)!=13}function truncate(a,c,d){if(a.length>c)a=d==true?'<span title="'+a+'" style="cursor:help">'+a.substring(0,c)+"...</span>":a.substring(0,c)+"...";return a};
